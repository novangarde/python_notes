
**PyTest** — это мощный фреймворк для тестирования кода на языке Python. Он позволяет разработчикам легко писать и выполнять тесты, поддерживая как простые функции, так и сложные сценарии тестирования. PyTest подходит для функционального и модульного тестирования, а также для тестирования больших проектов.

## Как работает PyTest?

PyTest автоматически обнаруживает тестовые функции и классы в вашем коде. Он использует простые функции с именами, начинающимися с `test_`, для обозначения тестов. Внутри этих функций используются утверждения (`assert`), чтобы проверить корректность выполнения кода.

## Для чего нужна библиотека PyTest?

1. **Автоматизация тестирования**: Упрощает процесс написания и выполнения тестов.
2. **Удобство использования**: Позволяет писать тесты в виде простых функций, а не классов.
3. **Поддержка параметризации**: Позволяет запускать один и тот же тест с разными наборами данных.
4. **Расширяемость**: Поддерживает множество плагинов для дополнительной функциональности.
5. **Отчетность**: Предоставляет удобные отчеты о результатах тестирования.

## Установка

`pip install pytest`

## Запуск

Переходим в директорию с тестами и пишем:
`pytest`

Эта команда автоматически найдет все файлы и функции с именами, начинающимися на `test_`, и выполнит их.

Запуск конкретного файла:
`pytest test_file.py

Или:
`pytest tests/

**Получение отчетов**: После выполнения команды вы увидите отчет о выполненных тестах в консоли:
    
    - `.` означает успешный тест.
    - `F` означает неудачный тест.
    - `E` указывает на неожиданное исключение.

### Запуск из корня проекта

Бывают случаи, когда тесты нужно запускать из корня проекта, к примеру, как в структуре, описанной в разделе [[Модули#^Добавление своих модулей | Модули > Добавление своих модулей]]

### Пример 1: Простой тест

`def sum2(x, y):
	`return x + y

`def test_sum2():
	`assert sum2(10, 7) == 17`

### Пример 2: Тестирование нескольких случаев

`def multiply(a, b):
	`return a * b
	
`def test_multiply():
	`assert multiply(3, 4) == 12
	`assert multiply(0, 3) == 0
	`assert multiply(-2, 3) == -6`

### Пример 3: Тест на возврат типа данных

`def test_is_it_tuple():
`    result = main("TSLA", "Cost of Revenue")
`    assert type(result) == tuple

### Пример 4: Тест на возврат исключения

`def test_wrong_ticker_reaction():
`    with pytest.raises(Exception) as excinfo:
`        main("WRNG", "Gross Profit")
`    assert "Тикер не найден" in str(excinfo.value)

### Пример 5: Тест на значение элемента кортежа

`def test_is_it_total_revenue():
`    result = main("AAPL", "Total Revenue")
`    assert result[0] == "Total Revenue"