
### df.loc()

Используется для доступа к строкам и столбцам DataFrame по их меткам. Он позволяет выбирать данные на основе логических условий, что делает его мощным инструментом для фильтрации данных.

#### Принцип работы

**Выбор по меткам**: Вы можете использовать `loc` для доступа к конкретным строкам или столбцам, указывая их метки.

```Python
df.loc['row_label', 'column_name']
```

**Выбор нескольких строк или столбцов**: Можно передавать списки меток для выбора нескольких строк или столбцов одновременно.

```Python
df.loc[['row1', 'row2'], ['col1', 'col2']]
```

**Логические условия**: Также можно использовать логические условия (булевы массивы) для фильтрации данных.

```Python
df.loc[df['column_name'] > value]
```

#### Примеры

**С одним условием:**

```Python
df.loc[df['Fines'] > 2100]
# находит все записи, в которых штрафы больше 2100
```

**С несколькими условиями:**

```Python
df.loc[(df['Fines'] > 2100) & (df['Refund'] == 2)]
# находит все записи, в которых штрафы больше 2100 и где refund равен 2
# условия объединяются амперсандом
# условия должны быть заключены в скобки
```

**Вывод строк, значения которых совпадают со значениями из списка:**

```Python
df.loc[df['Model'].isin(['Focus', 'Corolla'])]
```

**С применением условий к индексному столбцу:**

```Python
df.loc[df.index.isin(['Y7689C197RUS', '92928M178RUS', '7788KT197RUS', 'H115YO163RUS', 'X758HY197RUS'])]

# df.index - обращается к индексной колонке
```

### df.nsmallest()

Возвращает n самых маленьких значений из указанной колонки.

```Python
df.nsmallest(3, columns='hour')
# вернет три самых маленьких значения из колонки hour
```

Возможен и комбинированный вариант:

```Python
earliest_df = df[(df['daytime'] == 'morning')].nsmallest(3, columns='hour')[["hour"]]

# в earliest_df сохранится ттри самых маленьких значения из колонки hour, но будет выведена только индексная колонка и колонка "hour" с заголовком.
```

### df.nlargest()

Возвращает n самых больших значений из указанной колонки.

```Python
df.nlargest(3, columns='hour')
# вернет три самых больших значения из колонки hour
```

Комбинированный вариант:

```Python
latest_df = df[(df['daytime'] == 'morning')].nlargest(3, columns='hour')[["hour"]]

# в earliest_df сохранится три самых больших значения из колонки hour, но будет выведена только индексная колонка и колонка "hour" с заголовком.
```

### df\['col'].unique()

Возвращает уникальные значения из Series или DataFrame. Однако если вы вызываете `df.unique()` напрямую на DataFrame (а не на отдельной Series), то он вернет ошибку, так как этот метод предназначен для работы с одномерными данными.

```Python
df['CarNumber'].unique()
```

